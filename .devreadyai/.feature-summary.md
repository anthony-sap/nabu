# Feature Summary

This file tracks completed features in the Nabu project.

## Completed Features

### Image Upload Support for Lexical Editor
**Completed:** November 13, 2024  
**Feature ID:** image-upload-support  
**Updated:** November 13, 2024 - Selection and deletion fixes completed

Complete image upload functionality for the Lexical rich text editor including:
- Client-side image compression (max 2MB, 1920px)
- **SVG support** (no compression, infinite scaling)
- **Secure direct uploads via backend-generated signed URLs** (no Supabase SDK on frontend)
- Drag-and-drop and paste support
- **Full selection support** (mouse click and keyboard navigation)
- **Dual deletion methods** (keyboard Delete/Backspace or hover button)
- Visual selection indicator (blue ring)
- Storage usage dashboard showing statistics and top files
- Full audit trail with multi-tenant support
- Comprehensive API endpoints for upload, confirmation, and deletion

**Security Highlights:**
- No Supabase credentials exposed to frontend
- Temporary signed URLs (5 min expiry, single-use)
- Server-side ownership validation before URL generation
- Plain `fetch()` API for uploads (no external dependencies)

**Key Components:**
- Custom Lexical ImageNode for editor integration
- Image upload hook with progress tracking using plain fetch
- Backend-only Supabase utilities for signed URL generation
- Storage statistics API and dashboard
- Database model with audit fields

**Files:** 18 created, 7 modified, 1 database migration

See [detailed documentation](.devreadyai/completed-features/image-upload-support_details.md)  
See [signed URL refactor notes](.devreadyai/completed-features/image-upload-refactor-signed-urls.md)  
See [SVG support notes](.devreadyai/completed-features/svg-support-added.md)  
See [selection and delete fix](.devreadyai/completed-features/image-selection-delete-fixed.md)

### Metadata Sidebar Layout
**Completed:** November 13, 2024  
**Feature ID:** metadata-sidebar-layout

Restructured note editor with dedicated metadata sidebar:
- **Fixed 280px right-hand sidebar** that remains visible while scrolling
- **Created date display** in full date/time format (e.g., "Nov 13, 2024 at 2:30 PM")
- **Tags section** with removal functionality
- **Source URLs section** showing captured URLs from editor
- **Linked Notes section** with add/delete capabilities
- **Responsive design** - hidden on mobile, visible on desktop
- **Sticky positioning** keeps metadata in view while scrolling long notes
- **Improved content focus** - editor now has more horizontal space

**Key Improvements:**
- Better visual hierarchy with metadata consolidated in dedicated space
- Always-accessible metadata without interrupting content flow
- Cleaner mobile experience with full-width content
- Consistent styling across all metadata sections

**Files:** 1 created, 1 modified

See [detailed documentation](.devreadyai/completed-features/metadata-sidebar-layout.md)

